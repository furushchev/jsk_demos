<launch>
  <arg name="debug" default="false" />
  <arg name="gui" default="false" />
  <arg name="ROBOT" default="pr2" /> <!-- hrp2 for hrp2 -->
  <arg name="use_spot" default="false" />

  <!-- prefix for euslisp -->
  <arg name="action" default="$(find detect_cans_in_fridge_201202)/euslisp/spot-based-pddl-action-$(arg ROBOT).l"
       if="$(arg use_spot)"/>
  <arg name="action" default="$(find detect_cans_in_fridge_201202)/euslisp/pddl-action-$(arg ROBOT).l"
       unless="$(arg use_spot)" />
  <arg name="description" default="$(find pddl_planner)/demos/2013_fridge_demo/solve-bring-can.l"
       if="$(arg use_spot)" />
  <arg name="description" default="$(find detect_cans_in_fridge_201202)/euslisp/solve-fridge-demo.l"
       unless="$(arg use_spot)" />

  <!-- launch nodes to detect cans -->
  <include file="$(find detect_cans_in_fridge_201202)/launch/startup_$(arg ROBOT).launch">
    <arg name="execute" value="false" />
  </include>

  <!-- planner -->
  <include file="$(find task_compiler)/launch/execute-pddl.launch">
    <arg name="action" value="$(arg action)" />
    <arg name="description" value="$(arg description)" />
    <arg name="return_success" value="t" />
    <arg name="return_fail" value="nil" />
    <arg name="planner" value="downward" />
    <arg name="debug" value="$(arg debug)" />
    <arg name="gui" value="$(arg gui)" />
  </include>

  <!-- planner viewer -->
  <node name="$(anon pddl_planner_viewer)"
        pkg="pddl_planner_viewer" type="pddl_planner_viewer.py"
        if="$(arg gui)" />
</launch>
