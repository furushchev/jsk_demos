<launch>
  <arg name="ROBOT" default="$(optenv ROBOT sim)"/>
  <arg name="machine" default="c1" if="$(optenv USE_MIC_C1 false)"/>
  <arg name="machine" default="c2" if="$(optenv USE_MIC_C2 false)"/>

  <arg name="language" default="ja-JP"/>

  <include file="$(find pr2_machine)/$(arg ROBOT).machine" />

  <node name="respeaker_node" pkg="respeaker_ros" type="respeaker_node.py"
        machine="$(arg machine)" output="screen">
    <rosparam>
      sensor_frame_id: head_mount_link
    </rosparam>
  </node>

  <node name="speech_to_text"
        pkg="interactive_behavior_201409" type="speech_to_text.py"
        machine="$(arg machine)" output="screen">
    <remap from="audio" to="speech_audio"/>
    <remap from="sound_play" to="robotsound_jp"/>
    <rosparam subst_value="true">
      language: $(arg language)
      self_cancellation: true
      tts_tolerance: 0.5
    </rosparam>
  </node>
</launch>
