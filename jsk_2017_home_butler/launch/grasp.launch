<launch>
  <!-- <arg name="input_cloud" default="/kinect_head/depth_registered/points" /> -->
  <arg name="input_cloud" default="/tabletop/plane_extraction/output" />
  <arg name="sensor_frame_id" default="head_mount_kinect_rgb_optical_frame" />

  <arg name="machine" default="c1" />

  <include file="$(find jsk_2017_home_butler)/pr2.machine" />

  <node name="find_grasps" pkg="agile_grasp" type="find_grasps"
        output="screen"
        machine="$(arg machine)">
    <rosparam subst_value="true">
      cloud_topic: $(arg input_cloud)
      cloud_frame: /$(arg sensor_frame_id)
      cloud_type: 0
      num_clouds: 1
      svm_file_name: $(find agile_grasp)/svm_032015_20_20_same
      num_threads: 4
      num_samples: 8000
      min_inliers: 30
      plotting: 3
      marker_lifetime: 30
    </rosparam>

    <!-- hand configuration -->
    <rosparam>
      finger_width: 0.01
      hand_outer_diameter: 0.084
      hand_depth: 0.075
      init_bite: 0.01
      hand_height: 0.023
    </rosparam>

    <!-- workspace configuration -->
    <rosparam param="workspace"> [-10.0, 10.0, -10.0, 10.0, -10.0, 10.0] </rosparam>
    <rosparam param="camera_pose">
      [1,0,0,0,
       0,1,0,0,
       0,0,1,0,
       0,0,0,1]
    </rosparam>
    <!--
    <rosparam param="camera_pose">
      [0, 0.445417,  0.895323,  0.215,
       1,        0,         0, -0.015,
       0, 0.895323, -0.445417,  0.230,
       0,        0,         0,      1]
    </rosparam>
    -->
  </node>
</launch>
